\documentclass{article}
\usepackage{amsmath} % For math equations
\usepackage{amsfonts} % For math fonts
\usepackage{amssymb} % For math symbols
\usepackage{enumitem}
\setlist[enumerate,1]{label=\arabic*.}
\setlist[enumerate,2]{label=\alph*.,itemindent=2em}

\title{Homework 3}
\author{Asher Christian 006-150-286}
\date{2024-04-29}

\begin{document}
    \maketitle
    \section{Problem 1}
        Consider a random walk over 3 webpages, 1, 2, 3. At any step, if the person is at
    webpage 1, then with probability 1/6, she will go to webpage 2, and with probability 1/6, she will
    go to webpage 3. If the person is at webpage 2, then with probability 1/2, she will go to webpage
    1, and with probability 1/2, she will go to webpage 3. If the person is at webpage 3, then with
    probability 1/2, she will go to webpage 1, and with probability 1/2, she will go to webpage 2.
    Let $X_t$ be the webpage the person is browsing at time t, and let us assume she starts from
    webpage 1 at time 0, i.e., $X_0$ = 1
    \begin{enumerate}
        \item Let $K_{ij}$ = $P (X_{t+1} = j|X_t = i)$. Let $K = (K_{ij} )$ be the 3 Ã— 3 transition matrix. Write down
    $K$.\[
    K = 
    \begin{pmatrix}
        \frac{2}{3} & \frac{1}{6} & \frac{1}{6} \\
        \frac{1}{2} & 0 & \frac{1}{2} \\
        \frac{1}{2} & \frac{1}{2} & 0 \\
    \end{pmatrix}
    \]  
    \item Let $p^{(t)}_i = P (X_t = i)$. Let $p^{(t)} = (p^{(t)}_i , i = 1, 2, 3)$ be the row vector. Calculate $p^{(t)}$ for
    $t = 1, 2, 3$ using vector matrix multiplication.
    \[
    p^{(0)} =
    \begin{pmatrix}
        1 & 0 & 0
    \end{pmatrix} 
    P^{(t)} = p^{(0)}K^t
\]\[
    K^2 =
    \begin{pmatrix}
        \frac{11}{18} & \frac{7}{36} & \frac{7}{36} \\
        \frac{7}{12} & \frac{1}{3} & \frac{1}{12} \\
        \frac{7}{12} & \frac{1}{12} & \frac{1}{3}
    \end{pmatrix}
    K^3 = 
    \begin{pmatrix}
        \frac{65}{108} & \frac{43}{216} & \frac{43}{216} \\
        \frac{43}{72} & \frac{5}{36} & \frac{19}{72} \\
        \frac{43}{72} & \frac{19}{72} & \frac{5}{36}
    \end{pmatrix}
    .\] 
    \[
    p^{(1)} =
    \begin{pmatrix}
        \frac{2}{3} & \frac{1}{6} & \frac{1}{6}
    \end{pmatrix}
    p^{(2)} =
    \begin{pmatrix}
        \frac{11}{18} & \frac{7}{36} & \frac{7}{36}
    \end{pmatrix}
    p^{(3)} =
    \begin{pmatrix}
        \frac{65}{108} & \frac{43}{216} & \frac{43}{216}
    \end{pmatrix}
    .\] 
\item Let $\pi_i$ be the stationary distribution at webpage $i$, so that $\pi_j$ = $\sum_{i=1}^3
    \pi_iK_{ij}$ . Let $\pi$ = ($\pi_i, i =
    1, 2, 3)$ be the row vector. Then $\pi$ = $\pi K$. Given $K$, solve $\pi$ from this equation. Is $p^{(3)}$ close to $\pi$?
    \[
    \pi = \pi K .\] \[ 0 = \pi (K-I)
    .\] 
    \[
    0 = (K-I)^t \pi^t
    .\]
    This is equivalent to finding the eigenvector of $K^t$ with eigenvalue 0 and then transposing it
    \[
    \pi =
    \begin{pmatrix}
        \frac{3}{5}, \frac{1}{5}, \frac{1}{5}
    \end{pmatrix}
    .\] 
    \[
    |\pi - p^{(3)}| =
\begin{pmatrix}
    \frac{1}{540} & \frac{1}{1080} & \frac{1}{1080}
\end{pmatrix}
    .\] They are fairly close
\item 
    Based on the above calculations, answer the following questions. Suppose there are 1 million
people doing the above random walk independently, and suppose they all start from webpage 1
at time t = 0. Then on average, what is the distribution of these 1 million people for t = 1, 2, 3?
What is the stationary distribution of these 1 million people? Which page is the most popular?\\
At each time period the proportion of people at each webpage will be approximately equal to the values of $p^{(t)}$ 
Eventually and given enough time this proportion will approach the stationary distribution and there will be 3 times as many people
at the first site compared to the other two sites. Thus the first site is 3x as popular as the others.
    \end{enumerate}
    \section{Problem 2}
    Suppose at any moment, the probability of fire in a classroom is $\alpha$. Suppose the
conditional probability of alarm given fire is $\beta$, and the conditional probability of alarm given no
fire is $\gamma$.
    \begin{enumerate}
        \item Calculate the conditional probability of fire given alarm.
            \\ let $a$ be the event of a fire and $b$ the event of an alarm
            $P(a|b) = \frac{P(a \cap b)}{P(b)}  \rightarrow P(a \cap b) = P(b|a) P(a)$
            \[
            P(a|b) = \frac{\beta \alpha}{P(b)} \\
            .\] 
            \begin{align}
                P(b|a^{c})P(a^{c}) + P(b|a)P(a) &= P(b)  \\
                \gamma (1-\alpha ) + \beta \alpha &= P(b) \\
            \end{align}
            \[
            P(a|b) = \frac{\beta \alpha}{\gamma - \alpha \gamma + \beta \alpha}
            .\] 
            Given The hypothetical values $\alpha = \frac{1}{1000}, \beta = \frac{99}{100}, \gamma = \frac{2}{200}$ and 100,000 repetitions.
            100 times there is a fire and 99 out of those 100 times there is an alarm.
            999,900 times there is no fire and out of those times 1998 times there is an alarm.
            so the likelihood of fire given an alarm is $\frac{99}{1998+99} \approx 0.0472103004292$

    \end{enumerate}
%    \section{Problem 4}
%        After reading the article on Bayes net, I decided to attempt the calculations myself
%        using the example from class and within the article. All of these calculations
%        will be done assuming that the random patient is visiting the Chest Clinic
%        \\
%        \begin{table}[h!]
%        \centering
%        \begin{tabular}{|c|c|c|}
%        \hline
%        Event & Symbol & $P($Symbol$)$ \\
%        \hline
%        Visited Asia & A & 0.01 \\
%        Smokes & S & 0.50 \\
%        Tuberculosis & T & 0.01 \\
%        Lung Cancer & L & 0.06\\
%        Bronchitis & B & 0.45 \\
%        XRay Abnormal & X & 0.11 \\
%        Dyspnea & D 0.44 \\
%        \hline
%        \end{tabular}
%        \label{tab:example}
%        \end{table}
        
\end{document}
